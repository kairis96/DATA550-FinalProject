table.dat <- read.csv("crisp_sub_dataset_clean.csv")
#check if the data was loaded correctly
head(table.dat)
pairs(table.dat[, c("ckd_epi", "age", "BMI", "tkv")],
main = "Scatter Plot Matrix of eGFR, Age, BMI, and Systolic BP",
pch = 21, bg = "lightblue")
#pairs
colnames(table.dat)
pairs(table.dat[, c("ckd_epi", "age", "anp", "tkv")],
main = "Scatter Plot Matrix of eGFR, Age, BMI, and Systolic BP",
pch = 21, bg = "lightblue")
#stratify variables you want to show on your table
names(table.dat)[names(table.dat) == "age"] <- "Age in Years"
names(table.dat)[names(table.dat) == "age"] <- "Age in Years"
names(table.dat)[names(table.dat) == "ckd_epi"] <- "eGFR"
names(table.dat)[names(table.dat) == "anp"] <- "proANP"
names(table.dat)[names(table.dat) == "tkv"] <- "Total Kidney Volume"
pairs(table.dat[, c("eGFR", "Age in Years", "proANP", "Total Kidney Volume")],
main = "Scatter Plot Matrix of eGFR, Age, proANP, and Total Kidney Volume",
pch = 21, bg = "lightblue")
# Create Age Group variable
table.dat$`Age in Years` <- cut(table.dat$`Age in Years`, breaks = c(0, 30, 50, 70, 100),
labels = c("0-30", "31-50", "51-70", "71+"),
right = FALSE)
ggplot(table.dat, aes(x = Gender, y = eGFR, fill = Gender)) +
geom_boxplot() +
facet_wrap(~ Age_Group) +
labs(title = "eGFR by Gender and Age Group",
x = "Gender",
y = "Estimated GFR (mL/min/1.73m²)") +
theme_minimal()
library(ggplot2)
# Box plot of eGFR by Gender and Age Group
ggplot(table.dat, aes(x = Gender, y = eGFR, fill = Gender)) +
geom_boxplot() +
facet_wrap(~ Age_Group) +
labs(title = "eGFR by Gender and Age Group",
x = "Gender",
y = "Estimated GFR (mL/min/1.73m²)") +
theme_minimal()
table.dat <- read.csv("crisp_sub_dataset_clean.csv")
# Create Age Group variable
table.dat$Age_Group <- cut(table.dat$`Age in Years`, breaks = c(0, 30, 50, 70, 100),
labels = c("0-30", "31-50", "51-70", "71+"),
right = FALSE)
#Rename columns
names(table.dat)[names(table.dat) == "age"] <- "Age in Years"
# Create Age Group variable
table.dat$Age_Group <- cut(table.dat$`Age in Years`, breaks = c(0, 30, 50, 70, 100),
labels = c("0-30", "31-50", "51-70", "71+"),
right = FALSE)
#Rename columns
names(table.dat)[names(table.dat) == "gender"] <- "Gender"
ggplot(table.dat, aes(x = Gender, y = eGFR, fill = Gender)) +
geom_boxplot() +
facet_wrap(~ Age_Group) +
labs(title = "eGFR by Gender and Age Group",
x = "Gender",
y = "Estimated GFR (mL/min/1.73m²)") +
theme_minimal()
names(table.dat)[names(table.dat) == "ckd_epi"] <- "eGFR"
ggplot(table.dat, aes(x = Gender, y = eGFR, fill = Gender)) +
geom_boxplot() +
facet_wrap(~ Age_Group) +
labs(title = "eGFR by Gender and Age Group",
x = "Gender",
y = "Estimated GFR (mL/min/1.73m²)") +
theme_minimal()
#Rename columns
names(table.dat)[names(table.dat) == "age"] <- "Age"
#Rename columns
names(table.dat)[names(table.dat) == "age"] <- "Age"
#load the data
table.dat <- read.csv("crisp_sub_dataset_clean.csv")
# Select relevant variables for correlation
cor_data <- table.dat %>% select(ckd_epi, age, emgc_ca, epotcon, esodc_ca)
# Calculate correlation matrix
cor_matrix <- cor(cor_data, use = "complete.obs")
# Melt the correlation matrix for ggplot
cor_melted <- melt(cor_matrix)
install.packages("reshape2")
# Melt the correlation matrix for ggplot
cor_melted <- melt(cor_matrix)
# Load the reshape2 package
library(reshape2)
# Melt the correlation matrix for ggplot
cor_melted <- melt(cor_matrix)
# Heatmap of correlations
ggplot(cor_melted, aes(Var1, Var2, fill = value)) +
geom_tile() +
scale_fill_gradient2(low = "red", high = "blue", mid = "white",
midpoint = 0, limit = c(-1,1), name="Correlation") +
labs(title = "Correlation Matrix Heatmap of eGFR, Age, BMI, Systolic BP, and Diastolic BP",
x = "Variables",
y = "Variables") +
theme_minimal() +
theme(axis.text.x = element_text(angle = 45, hjust = 1))
names(table.dat)[names(table.dat) == "age"] <- "Age"
names(table.dat)[names(table.dat) == "ckd_epi"] <- "eGFR"
names(table.dat)[names(table.dat) == "anp"] <- "proANP"
names(table.dat)[names(table.dat) == "tkv"] <- "Total Kidney Volume"
#Paired scatter plots
colnames(table.dat)
pairs(table.dat[, c("eGFR", "Age in Years", "proANP", "Total Kidney Volume")],
main = "Scatter Plot Matrix of eGFR, Age, proANP, and Total Kidney Volume",
pch = 21, bg = "lightblue")
pairs(table.dat[, c("eGFR", "Age in Years", "proANP", "Total Kidney Volume")],
main = "Scatter Plot Matrix of eGFR, Age, proANP, and Total Kidney Volume",
pch = 21, bg = "lightblue")
#Paired scatter plots
colnames(table.dat)
pairs(table.dat[, c("eGFR", "Age", "proANP", "Total Kidney Volume")],
main = "Scatter Plot Matrix of eGFR, Age, proANP, and Total Kidney Volume",
pch = 21, bg = "lightblue")
# Create Age Group variable
table.dat$Age_Group <- cut(table.dat$Age, breaks = c(0, 30, 50, 70, 100),
labels = c("0-30", "31-50", "51-70", "71+"),
right = FALSE)
# Box plot of eGFR by Gender and Age Group
ggplot(table.dat, aes(x = gender, y = eGFR, fill = gender)) +
geom_boxplot() +
facet_wrap(~ Age_Group) +
labs(title = "eGFR by Gender and Age Group",
x = "Gender",
y = "Estimated GFR") +
theme_minimal()
names(table.dat)[names(table.dat) == "emgc_ca"] <- "Magnesium"
names(table.dat)[names(table.dat) == "epotcon"] <- "Potassium"
names(table.dat)[names(table.dat) == "esodc_ca"] <- "Sodium"
# Select relevant variables for correlation
cor_data <- table.dat %>% select(eGFR, Age, Magnesium, Potassium, Sodium)
# Calculate correlation matrix
cor_matrix <- cor(cor_data, use = "complete.obs")
# Melt the correlation matrix for ggplot
cor_melted <- melt(cor_matrix)
# Heatmap of correlations
ggplot(cor_melted, aes(Var1, Var2, fill = value)) +
geom_tile() +
scale_fill_gradient2(low = "red", high = "blue", mid = "white",
midpoint = 0, limit = c(-1,1), name="Correlation") +
labs(title = "Correlation Matrix Heatmap of eGFR, Age, Magnesium Conc., Potassium Conc., and Sodium Conc. in Urine",
x = "Variables",
y = "Variables") +
theme_minimal() +
theme(axis.text.x = element_text(angle = 45, hjust = 1))
names(table.dat)[names(table.dat) == "age"] <- "Age"
names(table.dat)[names(table.dat) == "ckd_epi"] <- "eGFR"
names(table.dat)[names(table.dat) == "anp"] <- "proANP"
names(table.dat)[names(table.dat) == "tkv"] <- "Total Kidney Volume"
#Paired scatter plots
colnames(table.dat)
pairs(table.dat[, c("eGFR", "Age", "proANP", "Total Kidney Volume")],
main = "Scatter Plot Matrix of eGFR, Age, proANP, and Total Kidney Volume",
pch = 21, bg = "lightblue")
table.dat$Age_Group <- cut(table.dat$Age, breaks = c(0, 30, 50, 70, 100),
labels = c("0-30", "31-50", "51-70", "71+"),
right = FALSE)
# Box plot of eGFR by Gender and Age Group
ggplot(table.dat, aes(x = gender, y = eGFR, fill = gender)) +
geom_boxplot() +
facet_wrap(~ Age_Group) +
labs(title = "eGFR by Gender and Age Group",
x = "Gender",
y = "Estimated GFR") +
theme_minimal()
```
names(table.dat)[names(table.dat) == "emgc_ca"] <- "Magnesium"
names(table.dat)[names(table.dat) == "epotcon"] <- "Potassium"
names(table.dat)[names(table.dat) == "esodc_ca"] <- "Sodium"
# Select relevant variables for correlation
cor_data <- table.dat %>% select(eGFR, Age, Magnesium, Potassium, Sodium)
# Calculate correlation matrix
cor_matrix <- cor(cor_data, use = "complete.obs")
# Melt the correlation matrix for ggplot
cor_melted <- melt(cor_matrix)
# Heatmap of correlations
ggplot(cor_melted, aes(Var1, Var2, fill = value)) +
geom_tile() +
scale_fill_gradient2(low = "red", high = "blue", mid = "white",
midpoint = 0, limit = c(-1,1), name="Correlation") +
labs(title = "Correlation Matrix Heatmap of eGFR, Age, Magnesium Conc., Potassium Conc., and Sodium Conc. in Urine",
x = "Variables",
y = "Variables") +
theme_minimal() +
theme(axis.text.x = element_text(angle = 45, hjust = 1))
# Box plot of eGFR by Gender and Age Group
ggplot(table.dat, aes(x = gender, y = eGFR, fill = gender)) +
geom_boxplot() +
facet_wrap(~ Age_Group) +
labs(title = "eGFR by Gender and Age Group",
x = "Gender",
y = "Estimated GFR") +
theme_minimal()
#Rename columns for convenience
names(table.dat)[names(table.dat) == "age"] <- "Age"
names(table.dat)[names(table.dat) == "ckd_epi"] <- "eGFR"
names(table.dat)[names(table.dat) == "anp"] <- "proANP"
names(table.dat)[names(table.dat) == "tkv"] <- "Total Kidney Volume"
#Paired scatter plots
colnames(table.dat)
pairs(table.dat[, c("eGFR", "Age", "proANP", "Total Kidney Volume")],
main = "Scatter Plot Matrix of eGFR, Age, proANP, and Total Kidney Volume",
pch = 21, bg = "lightblue")
```
#load the data
table.dat <- read.csv("crisp_sub_dataset_clean.csv")
names(table.dat)[names(table.dat) == "age"] <- "Age"
names(table.dat)[names(table.dat) == "ckd_epi"] <- "eGFR"
names(table.dat)[names(table.dat) == "anp"] <- "proANP"
#Paired scatter plots
colnames(table.dat)
pairs(table.dat[, c("eGFR", "Age", "proANP", "tkv")],
main = "Scatter Plot Matrix of eGFR, Age, proANP, and Total Kidney Volume",
pch = 21, bg = "lightblue")
# Create Age Group variable
table.dat$Age_Group <- cut(table.dat$Age, breaks = c(0, 30, 50, 70, 100),
labels = c("0-30", "31-50", "51-70", "71+"),
right = FALSE)
# Box plot of eGFR by Gender and Age Group
ggplot(table.dat, aes(x = gender, y = eGFR, fill = gender)) +
geom_boxplot() +
facet_wrap(~ Age_Group) +
labs(title = "eGFR by Gender and Age Group",
x = "Gender",
y = "Estimated GFR") +
theme_minimal()
# Rename columns for heatmap
names(table.dat)[names(table.dat) == "emgc_ca"] <- "Magnesium"
names(table.dat)[names(table.dat) == "epotcon"] <- "Potassium"
names(table.dat)[names(table.dat) == "esodc_ca"] <- "Sodium"
# Select relevant variables for correlation
cor_data <- table.dat %>% select(eGFR, Age, Magnesium, Potassium, Sodium)
# Calculate correlation matrix
cor_matrix <- cor(cor_data, use = "complete.obs")
# Melt the correlation matrix for ggplot
cor_melted <- melt(cor_matrix)
# Heatmap of correlations
ggplot(cor_melted, aes(Var1, Var2, fill = value)) +
geom_tile() +
scale_fill_gradient2(low = "red", high = "blue", mid = "white",
midpoint = 0, limit = c(-1,1), name="Correlation") +
labs(title = "Correlation Matrix Heatmap of eGFR, Age, Magnesium Conc., Potassium Conc., and Sodium Conc. in Urine",
x = "Variables",
y = "Variables") +
theme_minimal() +
theme(axis.text.x = element_text(angle = 45, hjust = 1))
```
names(table.dat)[names(table.dat) == "emgc_ca"] <- "Magnesium"
names(table.dat)[names(table.dat) == "epotcon"] <- "Potassium"
names(table.dat)[names(table.dat) == "esodc_ca"] <- "Sodium"
# Select relevant variables for correlation
cor_data <- table.dat %>% select(eGFR, Age, Magnesium, Potassium, Sodium)
# Calculate correlation matrix
cor_matrix <- cor(cor_data, use = "complete.obs")
# Melt the correlation matrix for ggplot
cor_melted <- melt(cor_matrix)
# Heatmap of correlations
ggplot(cor_melted, aes(Var1, Var2, fill = value)) +
geom_tile() +
scale_fill_gradient2(low = "red", high = "blue", mid = "white",
midpoint = 0, limit = c(-1,1), name="Correlation") +
labs(title = "Correlation Matrix Heatmap of eGFR, Age, Magnesium Conc., Potassium Conc., and Sodium Conc. in Urine",
x = "Variables",
y = "Variables") +
theme_minimal() +
theme(axis.text.x = element_text(angle = 45, hjust = 1))
set.seed(4)
random_numbers4 <- rbinom(100, 1, 0.25)
set.seed(4)
random_numbers4 <- rbinom(100, 1, 0.25)
setwd('/Users/ka-hyoncho/Documents/Emory RSPH/F2024/BIOS 555 (High Th-put Data Analysis)/Lab')
getwd()
setwd(/Users/ka-hyoncho/Documents/DATA550)
setwd('/Users/ka-hyoncho/Documents/DATA550')
install.packages("renv")
renv::init()
install.packages("cowplot")
setwd('~/Documents/Data550/FinalProject')
diabetes = read.csv("~/dataset/diabetes_012_health_indicators_BRFSS2015.csv")
diabetes = read.csv("~/Documents/DATA550/FinalProject/dataset/diabetes_012_health_indicators_BRFSS2015.csv")
str(diabetes)
#load dataset
dia = read.csv("~/Documents/DATA550/FinalProject/dataset/diabetes_012_health_indicators_BRFSS2015.csv")
str(dia)
summary(dia)
dia_clean = dia
dia_clean$Diabetes_012 = as.factor(ifelse(diabetes_clean$Diabetes_012 == 0,0,1))
dia_clean$Diabetes_012 = as.factor(ifelse(dia_clean$Diabetes_012 == 0,0,1))
dia_clean = dia_clean %>%
rename(isDiabetic = Diabetes_012)
dia_clean = dia_clean |>
rename(isDiabetic = Diabetes_012)
library(dyplr)
install.packages("dyplr")
library(dyplr)
